/** * Created with JetBrains PhpStorm. * User: WMDS * Date: 9/18/13 * Time: 8:28 PM * To change this template use File | Settings | File Templates. */function check_valid1(){//    console.log($('#Name').val());//    console.log(!IsValidEmail(document.getElementById("Email").value));//    console.log(!IsValidEmail($("#m-Email").val()));//    console.log($("#m-Email").length == 0);    if($("#slider-form #Name").val() == '' && ($("#m-Name").val() == '' || $("#m-Name").length == 0) )    {        alert('Please Enter Your Name');        return false;    }    if($("#slider-form #Email").val() == '' && ($("#m-Email").val() == '' || $("#m-Email").length == 0) )    {        alert('Please Enter Your Email');        return false;    }else if (!IsValidEmail(document.getElementById("Email").value) && (!IsValidEmail($("#m-Email").val()) || $("#m-Email").length == 0) ) {        alert("Invalid email address.");        document.getElementById("Email").select();        return false;    }    return true;}function IsValidEmail(email) {    var expr = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;    return expr.test(email);}//$('#Name').on('input', function() {////});$(document).ready(function(){    $("#slideDownForm").click(function(){       $("#hidden-form").fadeToggle("slow");    });    $("#file-inpt").click(function(){        $("#input-file").trigger('click');    });    $(".browse-button").click(function(){        $("#input-file").trigger('click');    });    $("#input-file").change(function(){        var text = $(this).val();        var last = text.split('fakepath\\');        $("#file-inpt").val(last[1]);    });    $('#header-menu li').on('click',function(e){            $(this).find('ul').toggle('slow');    });    //Pop Up for images    $("a[rel^='prettyPhoto']").prettyPhoto({        markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'    });    $(".faq-question").click(function(){        console.log('test');        $(this).parent().find(".faq-answer").slideToggle();    });        $("#contact-form").validate({            rules: {                name: {                    required: true                },                email: {                    required: true,                    email: true                }            },            messages: {                name: "Please enter your full name",                email: "Please enter a valid email address"            }        });        $("#contact-form2").validate({            rules: {                name: "required",                email: {                    required: true,                    email: true                }            },            messages: {                name: "Please enter your full name",                email: "Please enter a valid email address"            }        });});function colors_page(page){    var category = $("#colorTwill").val();    var data = {        action: 'colors',        content: {            page: page,            category: category        }    };    jQuery.post(ColorsPagination.ajaxurl, data, function(data) {        var items = '';        for(var index in data.items){            var item = data.items[index];            if(item.thumbnail){                items += '<div class="display-inline-block">';                items += '<div class="views-field-field-twill-image-fid">';                items += '<a href="'+item.image+'" rel="prettyPhoto[gallery]" title="'+item.title+'" >';                items += '<img alt="" width="158" size="160" src="'+item.thumbnail+'">';                items += '</a>';                items += '</div>';                items += '<div class="views-field-field-twill-name-value">';                items += '<span class="field-content">'+item.title+'</span>';                items += '</div>';                items += '</div>';            }        };        var pagination = '';        var total_pages = data.pagination.total_pages;        var next = data.pagination.next;        var prev = data.pagination.prev;        var page = parseInt(data.pagination.current);        var min = 0;        var max = total_pages;        if( page > 5) {            min = page-4;        }        if( total_pages-page > 5) {            max = page+4;        }        if(total_pages > 0){            pagination += '<li class="pager-first first">  <a class="active" title="Go to first page" href="javascript: colors_page(0);">« first</a> </li>';            pagination += '<li class="pager-previous"> <a class="active" title="Go to previous page" href="javascript: colors_page('+prev+');">‹ previous</a> </li>';            if(min !=0 ) {                pagination+= '<li class="pager-item">...</li>';            }            for(var i=min;i<=max;i++){                var actual = i+1;                if(i == page){                    pagination += '<li class="pager-current">'+actual+'</li>';                } else {                    pagination += '<li class="pager-item">';                    pagination += '<a class="active" title="Go to page '+actual+'" href="javascript: colors_page('+i+');">'+actual+'</a>';                    pagination += '</li>';                }            }            if(max != total_pages){                pagination += '<li class="pager-item">...</li>';            }            pagination += '<li class="pager-next"> <a class="active" title="Go to previous page" href="javascript: colors_page('+next+');">next ›</a> </li>';            pagination += '<li class="pager-last last">  <a class="active" title="Go to first page" href="javascript: colors_page('+total_pages+');">last »</a> </li>';        }        $(".views-view-grid").html(items);        $(".pager").html(pagination);        $("a[rel^='prettyPhoto']").prettyPhoto({            markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'        });    }, "json");}function colors_thread_page(page){    var category = $("#colorTwill").val();    var data = {        action: 'thread_colors',        content: {            page: page,            category: category        }    };    jQuery.post(ColorsThreadPagination.ajaxurl, data, function(data) {        var items = '';        for(var index in data.items){            var item = data.items[index];            if(item.image){                items += '<div class="display-inline-block">';                items += '<div class="views-field-field-twill-image-fid">';                items += '<a href="'+item.image+'" rel="prettyPhoto[gallery]" title="'+item.title+'" >';                items += '<img alt="" width="682" size="123" src="'+item.image+'">';                items += '</a>';                items += '</div>';                items += '<div class="views-field-field-twill-name-value">';                items += '<span class="field-content">'+item.title+'</span>';                items += '</div>';                items += '</div>';            }        };        var pagination = '';        var total_pages = data.pagination.total_pages;        var next = data.pagination.next;        var prev = data.pagination.prev;        var page = parseInt(data.pagination.current);        if(total_pages > 0){            var min = 0;            var max = total_pages;            if( page > 5) {                min = page-4;            }            if( total_pages-page > 5) {                max = page+4;            }            pagination += '<li class="pager-first first">  <a class="active" title="Go to first page" href="javascript: colors_thread_page(0);">« first</a> </li>';            pagination += '<li class="pager-previous"> <a class="active" title="Go to previous page" href="javascript: colors_thread_page('+prev+');">‹ previous</a> </li>';            if(min != 0){                pagination += '<li class="pager-item">...</li>';            }            for(var i=min;i<=max;i++){                var actual = i+1;                if(i == page){                    pagination += '<li class="pager-current">'+actual+'</li>';                } else {                    pagination += '<li class="pager-item">';                    pagination += '<a class="active" title="Go to page '+actual+'" href="javascript: colors_thread_page('+i+');">'+actual+'</a>';                    pagination += '</li>';                }            }            if(max != total_pages){                pagination += '<li class="pager-item">...</li>';            }            pagination += '<li class="pager-next"> <a class="active" title="Go to previous page" href="javascript: colors_thread_page('+next+');">next ›</a> </li>';            pagination += '<li class="pager-last last">  <a class="active" title="Go to first page" href="javascript: colors_thread_page('+total_pages+');">last »</a> </li>';        }        $(".views-view-grid").html(items);        $(".pager").html(pagination);        $("a[rel^='prettyPhoto']").prettyPhoto({            markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'        });    }, "json");}function changeColor(){    $("#colorTwill").val($("#colorCat").val());    colors_page(0);}function changeThreadColor(){    $("#colorTwill").val($("#colorCat").val());    colors_thread_page(0);}function products_page(page){    var category = $("#productsCategory").val();    var data = {        action: 'products',        content: {            page: page,            category: category        }    };    jQuery.post(ProductsPagination.ajaxurl, data, function(data) {        var items = '';        for(var index in data.items){            var item = data.items[index];            if(item.thumbnail){                items += '<div class="gallery_patches" style="width:150px; height:162px; background-color:#FFF; border:3px solid #F7F7F7; float:left; text-align:center; ">';                items += '<div style="padding-bottom:8px; clear:both; height:140px; overflow:hidden;">';                items += '<a href="'+item.image+'" rel="prettyPhoto[gallery]" title="'+item.title+'" >';                items += '<img alt="" width="158" size="160" src="'+item.thumbnail+'">';                items += '</a>';                items += '</div>';                items += '</div>';            }        };        var pagination = '';        var total_pages = data.pagination.total_pages;        var next = data.pagination.next;        var prev = data.pagination.prev;        var page = parseInt(data.pagination.current);        var min = 0;        var max = total_pages;        if( page > 5) {            min = page-4;        }        if( total_pages-page > 5) {            max = page+4;        }        if(total_pages > 0){            pagination += '<li class="pager-first first">  <a class="active" title="Go to first page" href="javascript: products_page(0);">« first</a> </li>';            pagination += '<li class="pager-previous"> <a class="active" title="Go to previous page" href="javascript: products_page('+prev+');">‹ previous</a> </li>';            if(min !=0 ) {                pagination+= '<li class="pager-item">...</li>';            }            for(var i=min;i<=max;i++){                var actual = i+1;                if(i == page){                    pagination += '<li class="pager-current">'+actual+'</li>';                } else {                    pagination += '<li class="pager-item">';                    pagination += '<a class="active" title="Go to page '+actual+'" href="javascript: products_page('+i+');">'+actual+'</a>';                    pagination += '</li>';                }            }            if(max != total_pages){                pagination += '<li class="pager-item">...</li>';            }            pagination += '<li class="pager-next"> <a class="active" title="Go to previous page" href="javascript: products_page('+next+');">next ›</a> </li>';            pagination += '<li class="pager-last last">  <a class="active" title="Go to first page" href="javascript: products_page('+total_pages+');">last »</a> </li>';        }        $("#products").html(items);        $(".pager").html(pagination);        $("a[rel^='prettyPhoto']").prettyPhoto({            markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'        });    }, "json");}function label_products_page(page){    var category = $("#productsCategory").val();    var data = {        action: 'label_products',        content: {            page: page,            category: category        }    };    jQuery.post(LabelProductsPagination.ajaxurl, data, function(data) {        var items = '';        for(var index in data.items){            var item = data.items[index];            if(item.thumbnail){                items += '<div class="gallery_patches" style="width:150px; height:162px; background-color:#FFF; border:3px solid #F7F7F7; float:left; text-align:center; ">';                items += '<div style="padding-bottom:8px; clear:both; height:140px; overflow:hidden;">';                items += '<a href="'+item.image+'" rel="prettyPhoto[gallery]" title="'+item.title+'" >';                items += '<img alt="" width="158" size="160" src="'+item.thumbnail+'">';                items += '</a>';                items += '</div>';                items += '</div>';            }        };        var pagination = '';        var total_pages = data.pagination.total_pages;        var next = data.pagination.next;        var prev = data.pagination.prev;        var page = parseInt(data.pagination.current);        var min = 0;        var max = total_pages;        if( page > 5) {            min = page-4;        }        if( total_pages-page > 5) {            max = page+4;        }        if(total_pages > 0){            pagination += '<li class="pager-first first">  <a class="active" title="Go to first page" href="javascript: label_products_page(0);">« first</a> </li>';            pagination += '<li class="pager-previous"> <a class="active" title="Go to previous page" href="javascript: label_products_page('+prev+');">‹ previous</a> </li>';            if(min !=0 ) {                pagination+= '<li class="pager-item">...</li>';            }            for(var i=min;i<=max;i++){                var actual = i+1;                if(i == page){                    pagination += '<li class="pager-current">'+actual+'</li>';                } else {                    pagination += '<li class="pager-item">';                    pagination += '<a class="active" title="Go to page '+actual+'" href="javascript: label_products_page('+i+');">'+actual+'</a>';                    pagination += '</li>';                }            }            if(max != total_pages){                pagination += '<li class="pager-item">...</li>';            }            pagination += '<li class="pager-next"> <a class="active" title="Go to previous page" href="javascript: label_products_page('+next+');">next ›</a> </li>';            pagination += '<li class="pager-last last">  <a class="active" title="Go to first page" href="javascript: label_products_page('+total_pages+');">last »</a> </li>';        }        $("#products").html(items);        $(".pager").html(pagination);        $("a[rel^='prettyPhoto']").prettyPhoto({            markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'        });    }, "json");}// function for CustomCaps sitefunction customcaps_products_page(page){    var category = $("#productsCategory").val();    var data = {        action: 'caps_products',        content: {            page: page,            category: category        }    };    jQuery.post(CapsProductsPagination.ajaxurl, data, function(data) {        var items = '';        for(var index in data.items){            var item = data.items[index];            if(item.thumbnail){                items += '<div class="gallery_patches" style="width:150px; height:162px; background-color:#FFF; border:3px solid #F7F7F7; float:left; text-align:center; ">';                items += '<div style="padding-bottom:8px; clear:both; height:140px; overflow:hidden;">';                items += '<a href="'+item.image+'" rel="prettyPhoto[gallery]" title="'+item.title+'" >';                items += '<img alt="" width="158" size="160" src="'+item.thumbnail+'">';                items += '</a>';                items += '</div>';                items += '</div>';            }        };        var pagination = '';        var total_pages = data.pagination.total_pages;        var next = data.pagination.next;        var prev = data.pagination.prev;        var page = parseInt(data.pagination.current);        var min = 0;        var max = total_pages;        if( page > 5) {            min = page-4;        }        if( total_pages-page > 5) {            max = page+4;        }        if(total_pages > 0){            pagination += '<li class="pager-first first">  <a class="active" title="Go to first page" href="javascript: customcaps_products_page(0);">« first</a> </li>';            pagination += '<li class="pager-previous"> <a class="active" title="Go to previous page" href="javascript: customcaps_products_page('+prev+');">‹ previous</a> </li>';            if(min !=0 ) {                pagination+= '<li class="pager-item">...</li>';            }            for(var i=min;i<=max;i++){                var actual = i+1;                if(i == page){                    pagination += '<li class="pager-current">'+actual+'</li>';                } else {                    pagination += '<li class="pager-item">';                    pagination += '<a class="active" title="Go to page '+actual+'" href="javascript: customcaps_products_page('+i+');">'+actual+'</a>';                    pagination += '</li>';                }            }            if(max != total_pages){                pagination += '<li class="pager-item">...</li>';            }            pagination += '<li class="pager-next"> <a class="active" title="Go to previous page" href="javascript: customcaps_products_page('+next+');">next ›</a> </li>';            pagination += '<li class="pager-last last">  <a class="active" title="Go to first page" href="javascript: customcaps_products_page('+total_pages+');">last »</a> </li>';        }        $("#products").html(items);        $(".pager").html(pagination);        $("a[rel^='prettyPhoto']").prettyPhoto({            markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'        });    }, "json");}function product_pagination_heropatches(page) {    var category = $("#productsCategory").val();    var data = {        action: 'products_categories',        content: {            page: page,            category: category        }    };    jQuery.post(ProductsPaginationCategories.ajaxurl, data, function(data) {        var items = '';        for(var index in data.items){            var item = data.items[index];            if(item.thumbnail){                items += '<div class="gallery_patches" style="width:160px; height:162px; background-color:#FFF; border:3px solid #F7F7F7; display: inline-block; text-align:center; margin: 5px ">';                items += '<div style="padding-bottom:8px; clear:both; height:150px; overflow:hidden;">';                items += '<a href="'+item.image+'" rel="prettyPhoto[gallery]" title="'+item.title+'" >';                items += '<img alt="'+item.title+'" src="'+item.thumbnail+'">';                items += '</a>';                items += '</div>';                items += '</div>';            }        };        var pagination = '';        var total_pages = data.pagination.total_pages;        var next = data.pagination.next;        var prev = data.pagination.prev;        var page = parseInt(data.pagination.current);        var min = 0;        var max = total_pages;        if( page > 5) {            min = page-4;        }        if( total_pages-page > 5) {            max = page+4;        }        if(total_pages > 0){            if (page != 0){                pagination += '<li class="pager-first first">  <a class="active" title="Go to first page" href="javascript: product_pagination_heropatches(0);">« first</a> </li>';                pagination += '<li class="pager-previous"> <a class="active" title="Go to previous page" href="javascript: product_pagination_heropatches('+prev+');">‹ previous</a> </li>';            }            if(min !=0 ) {                pagination+= '<li class="pager-item">...</li>';            }            for(var i=min;i<=max;i++){                var actual = i+1;                if(i == page){                    pagination += '<li class="pager-current">'+actual+'</li>';                } else {                    pagination += '<li class="pager-item">';                    pagination += '<a class="active" title="Go to page '+actual+'" href="javascript: product_pagination_heropatches('+i+');">'+actual+'</a>';                    pagination += '</li>';                }            }            if(max != total_pages){                pagination += '<li class="pager-item">...</li>';            }            if(page != total_pages){                pagination += '<li class="pager-next"> <a class="active" title="Go to previous page" href="javascript: product_pagination_heropatches('+next+');">next ›</a> </li>';                pagination += '<li class="pager-last last">  <a class="active" title="Go to first page" href="javascript: product_pagination_heropatches('+total_pages+');">last »</a> </li>';            }        }        $("#products").html(items);        $(".pager").html(pagination);        $("a[rel^='prettyPhoto']").prettyPhoto({            markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'        });    }, "json");}function products_pagination(page){    var category = $("#productsCategory").val();    var data = {        action: 'products',        content: {            page: page,            category: category        }    };    jQuery.post(ProductsPagination.ajaxurl, data, function(data) {        var items = '';        for(var index in data.items){            var item = data.items[index];            if(item.thumbnail){                items += '<div class="gallery_patches" style="width:160px; height:162px; background-color:#FFF; border:3px solid #F7F7F7; display: inline-block; text-align:center; margin: 5px ">';                items += '<div style="padding-bottom:8px; clear:both; height:150px; overflow:hidden;">';                items += '<a href="'+item.image+'" rel="prettyPhoto[gallery]" title="'+item.title+'" >';                items += '<img alt="'+item.title+'" src="'+item.thumbnail+'">';                items += '</a>';                items += '</div>';                items += '</div>';            }        };        var pagination = '';        var total_pages = data.pagination.total_pages;        var next = data.pagination.next;        var prev = data.pagination.prev;        var page = parseInt(data.pagination.current);        var min = 0;        var max = total_pages;        if( page > 5) {            min = page-4;        }        if( total_pages-page > 5) {            max = page+4;        }        if(total_pages > 0){            if (page != 0){                pagination += '<li class="pager-first first">  <a class="active" title="Go to first page" href="javascript: products_pagination(0);">« first</a> </li>';                pagination += '<li class="pager-previous"> <a class="active" title="Go to previous page" href="javascript: products_pagination('+prev+');">‹ previous</a> </li>';            }            if(min !=0 ) {                pagination+= '<li class="pager-item">...</li>';            }            for(var i=min;i<=max;i++){                var actual = i+1;                if(i == page){                    pagination += '<li class="pager-current">'+actual+'</li>';                } else {                    pagination += '<li class="pager-item">';                    pagination += '<a class="active" title="Go to page '+actual+'" href="javascript: products_pagination('+i+');">'+actual+'</a>';                    pagination += '</li>';                }            }            if(max != total_pages){                pagination += '<li class="pager-item">...</li>';            }            if(page != total_pages){                pagination += '<li class="pager-next"> <a class="active" title="Go to previous page" href="javascript: products_pagination('+next+');">next ›</a> </li>';                pagination += '<li class="pager-last last">  <a class="active" title="Go to first page" href="javascript: products_pagination('+total_pages+');">last »</a> </li>';            }        }        $("#products").html(items);        $(".pager").html(pagination);        $("a[rel^='prettyPhoto']").prettyPhoto({            markup: '<div class="pp_pic_holder"> \						<div class="ppt">&nbsp;</div> \						<div class="pp_top"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \						<div class="pp_content_container"> \							<div class="pp_left"> \							<div class="pp_right"> \								<div class="pp_content"> \									<div class="pp_loaderIcon"></div> \									<div class="pp_fade"> \										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \										<div class="pp_hoverContainer"> \											<a class="pp_next" href="#">next</a> \											<a class="pp_previous" href="#">previous</a> \										</div> \										<div id="pp_full_res"></div> \										<div class="pp_details"> \											<p class="pp_description"></p> \											<a class="pp_close" href="#">Close</a> \										</div> \									</div> \								</div> \							</div> \							</div> \						</div> \						<div class="pp_bottom"> \							<div class="pp_left"></div> \							<div class="pp_middle"></div> \							<div class="pp_right"></div> \						</div> \					</div> \					<div class="pp_overlay"></div>'        });    }, "json");}